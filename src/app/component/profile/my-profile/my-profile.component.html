<section>
    <div class="container1440 mt-5">
        <div class="subscribe">
            <div class="left_section">

                <div class="pick_cs">
                    <a><img src="{{myProfileImage}}">
                        <!-- <i class="fa fa-pencil-square-o" aria-hidden="true"></i> -->
                        <div class="icon-add">  <i class="fa fa-pencil-square-o" aria-hidden="true"></i>  
                          <input style="top: 33px;width: 40px;height: 40px;opacity: 0;"  type="file" name="imageUrl" accept="image/jpeg,image/png,image/jpg" (change)="handleFileInput($event)"  multiple />
                        </div>
                    </a>
                    <p>{{profiledata?.firstName}}</p>
                </div>

                <div class="changs">
                    <div class="nav flex-column nav-pills" id="v-pills-tab" role="tablist" aria-orientation="vertical">
                        <a class="nav-link active general_cs" id="v-pills-home-tab" data-toggle="pill" href="#v-pills-home"
                          role="tab" aria-controls="v-pills-home" aria-selected="true" [routerLink]="['/my-profile']" >
                            Manage General Info
                        </a>
                        <a class="nav-link general_cs" id="v-pills-profile-tab" data-toggle="pill" href="#v-pills-profile"
                          role="tab" aria-controls="v-pills-profile" aria-selected="false"
                          [routerLink]="['/change-password']">
                            Change Password
                        </a>
                        <a class="nav-link  general_cs" id="v-pills-messages-tab" data-toggle="pill" href="#v-pills-messages"
                          role="tab" aria-controls="v-pills-messages" aria-selected="false" [routerLink]="['/my-subscription']" *ngIf="profiledata?.role != 'REPRESENTATIVE_USER'">
                          My Subscription
                        </a>
                        <a class="nav-link general_cs" id="v-pills-settings-tab" data-toggle="pill" href="#v-pills-settings"
                          role="tab" aria-controls="v-pills-settings" aria-selected="false"
                          [routerLink]="['/subscription-history']">
                          Subscription History
                        </a>
                        <a class="nav-link general_cs" id="v-pills-settings-tab" data-toggle="pill" href="#v-pills-settings1"
                          role="tab" aria-controls="v-pills-settings" aria-selected="false" [routerLink]="['/manage-users']" *ngIf="profiledata?.role != 'REPRESENTATIVE_USER'">
                          Manage Users
                        </a>
                        <a class="nav-link general_cs" id="v-pills-settings-tab" data-toggle="pill" href="#v-pills-settings2"
                          role="tab" aria-controls="v-pills-settings" aria-selected="false" [routerLink]="['/create-users']" *ngIf="profiledata?.role != 'REPRESENTATIVE_USER'">
                          Create User
                        </a>
                    </div>
                </div>
            </div>

            <div class="right-section">
                <h4 class="manage">Manage General Info</h4>
                <div class="tab-content" id="v-pills-tabContent">
                    <div class="tab-pane fade show active" id="v-pills-home" role="tabpanel" aria-labelledby="v-pills-home-tab">
                        <div class="general-info">
                            <div class="info-box">
                                <div class="form_section">
                                    <form [formGroup]="myProfileForm">

                                        <div class="form-group cs3">
                                          <label for="exampleInputEmail1">First Name *</label>
                                          <input type="email" class="form-control" placeholder="First Name " formControlName="firstName">
                                          <div *ngIf="submitted && myProfileForm.get('firstName').hasError" >
                                            <div *ngIf="myProfileForm.get('firstName').hasError('required')" class="danger">
                                                *please enter the firstName
                                            </div>
                                            <div *ngIf="myProfileForm.get('firstName').hasError('pattern')" class="danger">
                                                *please enter the firstName
                                            </div>
                                          </div>
                                        </div>

                                        <div class="form-group cs3">
                                          <label for="exampleInputEmail1">Last Name *</label>
                                          <input type="email" class="form-control" placeholder="Last Name" formControlName="lastName">
                                          <div *ngIf="submitted && myProfileForm.get('lastName').hasError" >
                                            <div *ngIf="myProfileForm.get('lastName').hasError('required')" class="danger">
                                                *please enter the lastName
                                            </div>
                                            <div *ngIf="myProfileForm.get('lastName').hasError('pattern')" class="danger">
                                                *please enter the lastName
                                            </div>
                                          </div>
                                        </div>
                                        
                                        <div class="form-group cs3">
                                          <label for="exampleInputEmail1" style="margin-right:47%;">Telephone Number *</label>
                                          <ngx-intl-tel-input
                                              [inputId]="'adsasd2'"
                                              [cssClass]="'custom form-control'" 
                                              [preferredCountries]="preferredCountries"
                                              [enableAutoCountrySelect]="false" 
                                              [enablePlaceholder]="true" 
                                              [searchCountryFlag]="true"
                                              [searchCountryField]="[SearchCountryField.Iso2, SearchCountryField.Name]"
                                              [selectFirstCountry]="false" 
                                              [selectedCountryISO]="CountryISO.India"
                                              [maxLength]="13" 
                                              [tooltipField]="TooltipLabel.Name" 
                                              [phoneValidation]="true" 
                                              [separateDialCode]="separateDialCode"
                                              name="phone"
                                              (keyup)="homeTelephoneValidOrNot()"
                                              formControlName="telephoneNumber">
                                          </ngx-intl-tel-input>
                                          <span>
                                              <p *ngIf="submitted && myProfileForm.get('telephoneNumber').hasError('required')" class="danger">
                                                  *please enter the contact number
                                              </p>
                                              <p *ngIf="!validHomeTelephoneNo" class="danger">
                                                *please enter the valid Phone Number
                                              </p>
                                          </span>
                                        </div>

                                        <div class="form-group cs3">
                                          <label for="exampleInputEmail1" style="margin-right: 39%;">Mobile / Cell Phone Number *</label>
                                          <ngx-intl-tel-input
                                              [inputId]="'adsasd2'"
                                              [cssClass]="'custom form-control'" 
                                              [preferredCountries]="preferredCountries"
                                              [enableAutoCountrySelect]="false" 
                                              [enablePlaceholder]="true" 
                                              [searchCountryFlag]="true"
                                              [searchCountryField]="[SearchCountryField.Iso2, SearchCountryField.Name]"
                                              [selectFirstCountry]="false" 
                                              [selectedCountryISO]="CountryISO.India"
                                              [maxLength]="13" 
                                              [tooltipField]="TooltipLabel.Name" 
                                              [phoneValidation]="true" 
                                              [separateDialCode]="separateDialCode"
                                              name="phone"
                                              (keyup)="contactValidOrNot()"
                                              formControlName="mobileNumber">
                                          </ngx-intl-tel-input>
                                          <span>
                                              <p *ngIf="submitted && myProfileForm.get('mobileNumber').hasError('required')" class="danger">
                                                  *please enter the contact number
                                              </p>
                                              <p *ngIf="!validmobileNumber" class="danger">
                                                *please enter the valid Phone Number
                                              </p>
                                          </span>
                                        </div>

                                        <div class="form-group cs3">
                                            <label for="exampleInputEmail1">Name of the company</label>
                                          <input type="email" class="form-control" placeholder="business Name" formControlName="businessName" disabled>
                                          <div *ngIf="submitted && myProfileForm.get('businessName').hasError" >
                                            <div *ngIf="myProfileForm.get('businessName').hasError('required')" class="danger">
                                                *please enter the businessName
                                            </div>
                                            <div *ngIf="myProfileForm.get('businessName').hasError('pattern')" class="danger">
                                                *please enter the valid businessName
                                            </div>
                                          </div>
                                        </div>
                                        
                                        <div class="form-group cs3">
                                          <label for="exampleInputEmail1">Email*</label>
                                          <input type="email" class="form-control" placeholder="pq-mahesh@gmail.com" formControlName="email" disabled>
                                          <div *ngIf="submitted && myProfileForm.get('email').hasError" >
                                            <div *ngIf="myProfileForm.get('email').hasError('required')" class="danger">
                                                *please enter the email
                                            </div>
                                            <div *ngIf="myProfileForm.get('email').hasError('pattern')" class="danger">
                                                *please enter the valid email
                                            </div>
                                          </div>
                                        </div>

                                        <div class="form-group cs3">
                                          <label for="exampleInputEmail1">Address Line 1*</label>
                                          <input type="email" class="form-control" placeholder="Okhla phase" formControlName="address1">
                                          <div *ngIf="submitted && myProfileForm.get('address1').hasError" >
                                            <div *ngIf="myProfileForm.get('address1').hasError('required')" class="danger">
                                                *please enter the address1
                                            </div>
                                          </div>
                                        </div>

                                        <div class="form-group cs3">
                                          <label for="exampleInputEmail1">Address Line 2*</label>
                                          <input type="email" class="form-control" placeholder="Okhla phase" formControlName="address2">
                                          <div *ngIf="submitted && myProfileForm.get('address2').hasError" >
                                            <div *ngIf="myProfileForm.get('address2').hasError('required')" class="danger">
                                                *please enter the address2
                                            </div>
                                          </div>
                                        </div>

                                        <div class="form-group cs3">
                                          <label for="exampleInputEmail1">Address Line 3</label>
                                          <input type="email" class="form-control" placeholder="Okhla phase" formControlName="address3">
                                          <div *ngIf="submitted && myProfileForm.get('address3').hasError" >
                                            <div *ngIf="myProfileForm.get('address3').hasError('required')" class="danger">
                                                *please enter the address3
                                            </div>
                                          </div>
                                        </div>

                                        <div class="form-group cs3">
                                          <label for="exampleInputEmail1">Post Code/Pin Code/Zip Code* </label>
                                          <input type="email" class="form-control" placeholder="766015" formControlName="zipCode">
                                          <div *ngIf="submitted && myProfileForm.get('zipCode').hasError" >
                                            <div *ngIf="myProfileForm.get('zipCode').hasError('required')" class="danger">
                                                *please enter the zipCode
                                            </div>
                                          </div>
                                        </div>

                                        <div class="form-group cs3">
                                          <label for="exampleInputEmail1">City *</label>
                                          <input type="email" class="form-control" placeholder="London" formControlName="city">
                                          <div *ngIf="submitted && myProfileForm.get('city').hasError" >
                                            <div *ngIf="myProfileForm.get('city').hasError('required')" class="danger">
                                                *please enter the city
                                            </div>
                                          </div>
                                        </div>

                                        <div class="form-group cs3">
                                          <label for="exampleInputEmail1">Country *</label>
                                          <ul class="tele_cs">
                                            <li class="drop">
                                              <select class="form-control" formControlName="country" (change)="getState($event.target.value)">
                                                <option disabled selected value="">Select country</option>
                                                <option *ngFor="let item of countryList" value="{{item.country}}">{{item.country}}</option>
                                              </select>
                                            </li>
                                          </ul>
                                          <div *ngIf="submitted && myProfileForm.get('country').hasError" >
                                            <div *ngIf="myProfileForm.get('country').hasError('required')" class="danger">
                                                *please enter the country
                                            </div>
                                          </div>
                                        </div>


                                        <div class="form-group cs3">
                                          <label for="exampleInputEmail1">State*</label>
                                          <ul class="tele_cs">
                                            <li class="drop">
                                              <select class="form-control" formControlName="state" >
                                                <option selected disabled value="">select state</option>
                                                <option *ngFor="let item of stateList" value="{{item}}">{{item}}</option>
                                              </select>
                                            </li>
                                          </ul>
                                          <div *ngIf="submitted && myProfileForm.get('state').hasError" >
                                            <div *ngIf="myProfileForm.get('state').hasError('required')" class="danger">
                                                *please enter the state
                                            </div>
                                          </div>
                                        </div>
                                       
                                        <div class="cntact-button">
                                          <button class="theme-btn" [routerLink]="['/dashboard']">Cancel</button>
                                          <button class="theme-btn" (click)="save()">Save</button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
              </div>
        </div>
    </div>
</section>


<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
      <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLongTitle">&nbsp;</h5>
      </div>
      <div class="modal-body">
        <div style="position:relative;left: 18%;">
          {{responseMessage}}
        </div>
      </div>
      <div class="modal-footer">
          <button type="button" class="theme-btn router-link  okay" data-dismiss="modal" [routerLink]="['/dashboard']">OK</button>
      </div>
      </div>
  </div>
</div>